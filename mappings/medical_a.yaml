# --- Metadata ---
source_vendor: "medical_provider_a"
source_file: "medical_provider_a.csv"
plan_type: "medical" # Constant for this source
provider: "Medical Provider A"

# --- File Specs ---
file_format: "csv"
dob_format: "%m/%d/%Y" # MM/DD/YYYY as specified in doc

# --- Column Mapping (Exact Source -> Exact Staging) ---
column_mapping:
  subscriber_id: "subscriber_id_raw" #
  dependent_seq: "dependent_seq_raw" #
  member_id: "person_id_raw" # Mapping member_id to person_id_raw
  first_nm: "first_name_raw" #
  last_nm: "last_name_raw" #
  dob: "dob_raw" #
  addr_line1: "address_line1" #
  city: "city" #
  state: "state" #
  zip_cd: "zip" # Source is zip_cd, mapping to staging zip
  relationship_cd: "relationship_raw" #
  medical_plan_code: "plan_id" # Mapping medical_plan_code to staging plan_id
  plan_tier: "plan_tier" #
  eligibility_status: "is_active_raw" #

# --- Fields that don't exist in Medical A ---
# These will be handled by the code as NULL:
# group_id_raw: (N/A)
# ssn_hash_raw: (N/A)

# --- Automatic Metadata Fields ---
pipeline_columns:
  - "source_row"
  - "load_run_id"
  - "ingested_at"
  - "source_extract_date"
  - "record_hash_raw"
  - "extra_payload" # Will capture internal_batch_id, internal_row_checksum
