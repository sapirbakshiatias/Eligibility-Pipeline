# --- Metadata ---
source_vendor: "medical_provider_c"
source_file: "medical_provider_c.jsonl" #
plan_type: "medical" #
provider: "Medical Provider C"

# --- File Specs ---
file_format: "jsonl" #
# Special handling for split DOB: year, month, day
dob_type: "split"
dob_fields:
  year: "dob_year"
  month: "dob_month"
  day: "dob_day"

# --- Column Mapping (Exact Source -> Your Staging Column) ---
# Note: Using dot notation for nested JSON fields
column_mapping:
  # IDs
  emp_id: "subscriber_id_raw"
  member_identifier: "person_id_raw"
  dep_num: "dependent_seq_raw" # Perfect match for your dependent_seq_raw
  
  # Name (Nested)
  "name.first": "first_name_raw"
  "name.last": "last_name_raw"
  
  # Relationship
  person_type: "relationship_raw"
  
  # Address (Nested)
  "address.street": "address_line1"
  "address.city": "city"
  "address.state": "state"
  "address.zip": "zip"
  
  # Plan (Nested)
  "plan.plan_id": "plan_id"
  "plan.tier": "plan_tier"
  
  # Status
  eligibility: "is_active_raw"

# --- Internal Fields ---
# To be stored in extra_payload JSON
internal_fields:
  - "internal_notes"

# --- Technical Columns ---
pipeline_columns:
  - "source_row"
  - "load_run_id"
  - "ingested_at"
  - "source_extract_date"
  - "record_hash_raw"
  - "extra_payload"
