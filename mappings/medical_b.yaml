# --- Metadata ---
source_vendor: "medical_provider_b"
source_file: "medical_provider_b.txt" #
plan_type: "medical" #
provider: "Medical Provider B"

# --- File Specs ---
file_format: "txt"
delimiter: "|" # Confirmed by sample data: family_group|ssn_hash...
dob_format: "%Y%m%d" # Confirmed by sample data: 19631204, 19890219

# --- Column Mapping (Exact Source -> Your Staging Column) ---
column_mapping:
  family_group: "subscriber_id_raw" # Acts as the family anchor
  ssn_hash: "ssn_hash_raw" # Present in Medical B sample
  vendor_member_key: "person_id_raw" # Unique member key
  given_name: "first_name_raw" #
  surname: "last_name_raw" #
  birth_dt: "dob_raw" #
  street: "address_line1" #
  town: "city" #
  province: "state" #
  postal: "zip" #
  relation: "relationship_raw" #
  med_plan: "plan_id" #
  tier: "plan_tier" #
  active_flag: "is_active_raw" #

# --- Internal Fields ---
# These exist in source but will move to extra_payload JSON
internal_fields:
  - "audit_source_system"
  - "audit_load_ts"

# --- Technical Columns (Calculated by Pipeline) ---
pipeline_columns:
  - "source_row"
  - "load_run_id"
  - "ingested_at"
  - "source_extract_date"
  - "record_hash_raw"
  - "extra_payload"

